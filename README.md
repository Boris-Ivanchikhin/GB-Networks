#### Course: Network programming in C++  
#### Lesson 04. Work under load. Optimization of working with multiple clients.

***  

#### Задачи.  

1. Добавьте в <b>TCP-сервер</b> возможность отдавать части файла по смещению и размеру.  
2. Переработайте <b>TCP-сервер</b> так, чтобы внутри потоков обрабатывающих запросы клиента, использовался <b>Asio</b>, либо <b>Boost::Asio</b>, т.е. работа с клиентскими запросами внутри потока велась <b>асинхронно</b>. В итоге, каждый поток сервера мог обрабатывать несколько клиентов в асинхронном режиме.  

***  

#### Комментарии.  

1. В <b>первой</b> задаче запрос от TCP-клиента поступает виде строки “ путь\имя файла \nСмещение\nКоличество байт\n” Если "смещение" и "количество байт" равны 0, то файл читается целиком.  

2. <b>Вторая</b> задача реализацией простого асинхронного сервера для TCP соединений с использованием библиотеки <b>Boost::Asio</b>. Клиент устанавливает соединение с сервером и передает имя файла, сервер в ответ отправляет клиенту его содержимое.  
   Краткое описание классов и функций:
   * session -> класс, который представляет отдельное соединение. В конструкторе создается сокет,
                который связывается с контекстом ввода-вывода. Метод start инициирует чтение из сокета,
                а когда данные получены, вызывается handle_read.  
   * server  -> класс, который управляет принятием соединений. В конструкторе создается экземпляр tcp::acceptor,
                который связывается с контекстом ввода-вывода и указанным портом.
                В методе start_accept создается новый объект session, который используется для принятия
                нового соединения через async_accept. Когда соединение установлено, вызывается handle_accept,
                который вызывает метод start объекта session.  
   * main    - функция, которая создает экземпляр server и запускает контекст ввода-вывода.  
   Таким образом, при запуске программы сервер начинает слушать входящие соединения на указанном порту, принимает имена файлов и начинает отправлять обратно их содержимое. При возникновении ошибки соединение закрывается.  
